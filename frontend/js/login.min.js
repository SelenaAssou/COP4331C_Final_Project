/*!
 * Start Bootstrap - SB Admin v5.0.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */

var urlBase="https://poosgroup5-u.cf/",extension="py";function doLogin(){var e=document.getElementById("inputUsername"),t=document.getElementById("inputPassword"),a='{"username" : "'+e.value+'", "password" : "'+t.value+'"}',s=urlBase+"api/login",n=new XMLHttpRequest;n.open("POST",s,!1),n.setRequestHeader("Content-type","application/json; charset=UTF-8");try{n.send(a);var d=JSON.parse(n.responseText);if(d.success<1)return!1;d.sessionID;window.location.replace(urlBase+"main.html")}catch(e){alert(e)}}function doRegister(){var e=document.getElementById("inputUsername").value,t=document.getElementById("inputPassword").value;if(t==document.getElementById("confirmPassword").value){var a='{"username":"'+e+'", "password":"'+t+'", "isAdmin":0}',s=urlBase+"api/register",n=new XMLHttpRequest;n.open("POST",s,!1),n.setRequestHeader("Content-type","application/json; charset=UTF-8");try{n.send(a),1==JSON.parse(n.responseText).success?window.location.replace(urlBase+"login.html"):$(document.getElementById("addMessage")).append('<div class="alert alert-danger alert-dismissible" id="badRegister">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Error!</strong> Something went wrong! Please try again later. </div>')}catch(e){alert(e.message)}}else $(document.getElementById("addMessage")).append('<div class="alert alert-info alert-dismissible" id="passwordIssue">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Passwords do not match!</strong> Did not register user. </div>')}function searchBugsAndPopulateTable(){var e=urlBase+"api/search",t=new XMLHttpRequest;t.open("POST",e,!1),t.setRequestHeader("Content-type","application/json; charset=UTF-8");try{t.send("{}");var a=JSON.parse(t.responseText);if(1==a.success){var s=document.getElementById("bugs");Array.from(a.results).forEach(function(e,t){addRowOnTable(s,e,t)}),$(document).ready(function(){$("#bugs").DataTable()})}}catch(e){alert(e)}}function addRowOnTable(e,t,a){if(null!=t){t.contactType;$(e).find("tbody").append("<tr><td>"+t.common_name+"</td><td>"+t.scientific_name+"</td><td> <button type='button' id='button"+t.id+"'>Edit!</button> </td></tr>"),document.getElementById("button"+t.id).onclick=function(){editBug(t.id)}}}function editBug(e){window.location.replace(urlBase+"edit2.html")}function addBug(){try{var e=document.getElementById("common_name").value,t=document.getElementById("scientific_name").value,a=document.getElementById("class").value,s=document.getElementById("order").value,n=document.getElementById("family").value,d=document.getElementById("genus").value,l=document.getElementById("color_1").value,r=document.getElementById("color_2").value,o=document.getElementById("general_type").value,i=document.getElementById("mouth_parts").value,u=document.getElementById("description").value,c=document.getElementById("additional_advice").value,m=0,g=0,p=0,y=0,v=0;"True"==document.getElementById("wings").value&&(m=1),"True"==document.getElementById("antenna").value&&(g=1),"True"==document.getElementById("hind_legs").value&&(p=1),"True"==document.getElementById("hairy_furry").value&&(y=1),"True"==document.getElementById("thin_body").value&&(v=1)}catch(e){$(document.getElementById("addMessage")).append('<div class="alert alert-danger alert-dismissible" id="errorRegister">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Error!</strong> Could not add bug. </div>')}""!=e&&""!=t&&""!=a&&""!=s&&""!=n&&""!=d&&""!=l&&""!=r&&""!=o&&""!=i&&""!=u&&""!=c||$(document.getElementById("addMessage")).append('<div class="alert alert-danger alert-dismissible" id="missingIngo">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Missing information!</strong> Make sure all of the fields are filled out to add a bug. </div>');var B='{"common_name":"'+e+'", "scientific_name":"'+t+'", "class":"'+a+'", "order":"'+s+'", "family":"'+n+'", "genus":"'+d+'", "color_1":"'+l+'", "color_2":"'+r+'", "general_type":"'+o+'", "mouth_parts":"'+i+'", "wings":'+m+', "antenna":'+g+', "hind_legs_jump":'+p+', "hairy_furry":'+y+', "thin_body":'+v+', "description":"'+u+'", "additional_advice":"'+c+'"}',f=urlBase+"api/registerBug",h=new XMLHttpRequest;h.open("POST",f,!1),h.setRequestHeader("Content-type","application/json; charset=UTF-8");try{h.send(B),1==JSON.parse(h.responseText).success?$(document.getElementById("addMessage")).append('<div class="alert alert-success alert-dismissible">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Success!</strong> Added bug. </div>'):$(document.getElementById("addMessage")).append('<div class="alert alert-danger alert-dismissible">  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>  <strong>Could not add bug!</strong> Is it already in the database? </div>')}catch(e){alert(e.message)}}